{"version":3,"sources":["sounds/bells.mp3","components/Timer/index.js","components/Timer/hooks/useInterval.js","components/Button/index.js","components/Label/index.js","components/app/index.js","serviceWorker.js","index.js"],"names":["module","exports","Timer","useContext","TimerContext","session","timer","actions","useState","remainingTime","format","clock","setClock","bellSound","UIFx","bellAudio","volume","throttleMs","updateTimerValue","formatedTime","useEffect","callback","delay","savedCallback","useRef","current","id","setInterval","clearInterval","useInterval","isRunning","asSeconds","tick","play","sessionType","SessionContants","WORKING_SESSION","startNewSession","RESTING_SESSION","document","title","Button","onClick","children","type","Label","LONG_RESTING_SESSION","renderSessionName","MomentFormat","Moment","React","createContext","Index","setSessionType","setIsRunning","duration","setRemainingTime","restartSession","className","Provider","value","subtract","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.f5cdd154.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bells.691b33bc.mp3\";","import React, { useContext, useEffect, useState } from 'react';\nimport UIFx from 'uifx';\nimport useInterval from './hooks/useInterval';\nimport bellAudio from '../../sounds/bells.mp3';\nimport { TimerContext, SessionContants } from '../app';\n\nconst Timer = () => {\n\tconst {\n\t\tsession,\n\t\ttimer,\n\t\tactions,\n\t} = useContext(TimerContext);\n\n\tconst [clock, setClock] = useState(timer.remainingTime.format());\n\n\tconst bellSound = new UIFx(bellAudio, { volume: 1, throttleMs: 100 });\n\n\tconst updateTimerValue = (formatedTime) => {\n\t\tsetClock(formatedTime);\n\t};\n\n\tconst tickClock = () => {\n\t\tif (timer.remainingTime.asSeconds() > 1) {\n\t\t\tactions.tick();\n\t\t} else {\n\t\t\tbellSound.play();\n\t\t\tif (session.sessionType === SessionContants.WORKING_SESSION) {\n\t\t\t\tactions.startNewSession(SessionContants.RESTING_SESSION);\n\t\t\t} else {\n\t\t\t\tactions.startNewSession(SessionContants.WORKING_SESSION);\n\t\t\t}\n\t\t}\n\t\tupdateTimerValue(timer.remainingTime.format());\n\t};\n\n\t// Hooks\n\tuseEffect(() => {\n\t\tupdateTimerValue(timer.remainingTime.format());\n\t}, [timer]);\n\n\tuseInterval(() => {\n\t\tif (timer.isRunning) {\n\t\t\ttickClock();\n\t\t}\n\t}, 1000);\n\n\tuseEffect(() => {\n\t\tdocument.title = clock;\n\t}, [clock]);\n\n\treturn (\n\t\t<>\n\t\t\t<h2>{`${clock}`}</h2>\n\t\t</>\n\t);\n};\nexport default Timer;\n","import { useEffect, useRef } from 'react';\n\nexport default (callback, delay) => {\n\tconst savedCallback = useRef();\n\t// Remember the latest callback.\n\tuseEffect(() => {\n\t\tsavedCallback.current = callback;\n\t}, [callback]);\n\t// Set up the interval.\n\tuseEffect(() => {\n\t\tfunction tick() {\n\t\t\tsavedCallback.current();\n\t\t}\n\t\tconst id = setInterval(tick, delay);\n\t\treturn () => clearInterval(id);\n\t}, [delay]);\n};\n","import React from 'react';\n\nconst Button = ({ onClick, children }) => (\n\t<button\n\t\tonClick={onClick}\n\t\ttype=\"button\"\n\t>\n\t\t{children}\n\t</button>\n);\n\nexport default Button;\n","import React, { useContext } from 'react';\nimport {\n\tTimerContext,\n\tSessionContants,\n} from '../app';\n\nconst Label = () => {\n\tconst {\n\t\tsession,\n\t} = useContext(TimerContext);\n\n\tfunction renderSessionName() {\n\t\tswitch (session.sessionType) {\n\t\tcase SessionContants.WORKING_SESSION:\n\t\t\treturn 'Working Session';\n\t\tcase SessionContants.RESTING_SESSION:\n\t\t\treturn 'Resting Session';\n\t\tcase SessionContants.LONG_RESTING_SESSION:\n\t\t\treturn 'Long Resting Session';\n\t\tdefault:\n\t\t\treturn '';\n\t\t}\n\t}\n\n\treturn (\n\t\t<h3>{renderSessionName()}</h3>\n\t);\n};\n\nexport default Label;\n","import React, { useState } from 'react';\nimport Moment from 'moment';\nimport MomentFormat from 'moment-duration-format-commonjs';\n\nimport './App.css';\n\nimport Timer from '../Timer';\nimport Button from '../Button';\nimport Label from '../Label';\n\nMomentFormat(Moment);\n\nexport const TimerContext = React.createContext(null);\nexport const SessionContants = {\n\tWORKING_SESSION: 'WORKING_SESSION',\n\tRESTING_SESSION: 'RESTING_SESSION',\n\tLONG_RESTING_SESSION: 'LONG_RESTING_SESSION',\n};\n\nconst Index = () => {\n\tconst [sessionType, setSessionType] = useState(SessionContants.WORKING_SESSION);\n\tconst [isRunning, setIsRunning] = useState(false);\n\tconst [remainingTime, setRemainingTime] = useState(Moment.duration(25, 'minutes'));\n\t// const [remainingTime, setRemainingTime] = useState(Moment.duration(3, 'seconds'));\n\n\tconst restartSession = () => {\n\t\tconst duration = sessionType === SessionContants.WORKING_SESSION ? 25 : 5;\n\t\tsetRemainingTime(Moment.duration(duration, 'minutes'));\n\t};\n\n\tconst startNewSession = (type) => {\n\t\tsetIsRunning(false);\n\t\tswitch (type) {\n\t\tcase SessionContants.WORKING_SESSION:\n\t\t\tsetRemainingTime(Moment.duration(25, 'minutes'));\n\t\t\tsetSessionType(SessionContants.WORKING_SESSION);\n\t\t\tbreak;\n\t\tcase SessionContants.RESTING_SESSION:\n\t\t\tsetRemainingTime(Moment.duration(5, 'minutes'));\n\t\t\tsetSessionType(SessionContants.RESTING_SESSION);\n\t\t\tbreak;\n\t\tcase SessionContants.LONG_RESTING_SESSION:\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst tick = () => {\n\t\tsetRemainingTime(remainingTime.subtract(1, 'seconds'));\n\t};\n\n\tconst stopSession = () => {\n\t\tsetIsRunning(false);\n\t\trestartSession();\n\t};\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<header className=\"App-header\">\n\t\t\t\t<h1>Pomodoro Timer</h1>\n\t\t\t\t<TimerContext.Provider\n\t\t\t\t\tvalue={{\n\t\t\t\t\t\tsession: {\n\t\t\t\t\t\t\tsessionType,\n\t\t\t\t\t\t\tsetSessionType,\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttimer: {\n\t\t\t\t\t\t\tremainingTime,\n\t\t\t\t\t\t\tsetRemainingTime,\n\t\t\t\t\t\t\tisRunning,\n\t\t\t\t\t\t\tsetIsRunning,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tactions: {\n\t\t\t\t\t\t\tstartNewSession,\n\t\t\t\t\t\t\ttick,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Timer />\n\t\t\t\t\t<Label />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Button onClick={() => setIsRunning(true)}>Start</Button>\n\t\t\t\t\t\t<Button onClick={() => setIsRunning(false)}>Pause</Button>\n\t\t\t\t\t\t<Button onClick={restartSession}>Restart</Button>\n\t\t\t\t\t\t<Button onClick={stopSession}>Stop</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</TimerContext.Provider>\n\t\t\t</header>\n\t\t</div>\n\t);\n};\n\nexport default Index;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n    \t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. Index is running in offline mode.',\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Index from './components/app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Index />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.register();\nserviceWorker.unregister();\n"],"sourceRoot":""}